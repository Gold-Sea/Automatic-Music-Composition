# 代码目录结构说明
.
├── GA.json 全局的参数配置
├── IO.py 数据文件的读写接口
├── README.md 本文件
├── convertMIDI.ipynb 数据的预处理，将MIDI数据转换为整数序列表示
├── data 数据文件
│   ├── chopin 肖邦夜曲的MIDI格式原始数据
│   ├── chopin_nocturnes.txt 转换后的肖邦夜曲数据
│   ├── chopin_nocturnes_test.txt 肖邦夜曲测试集
│   ├── chopin_nocturnes_train.txt 肖邦夜曲训练集
│   └── fit.pt 保存的神经网络参数
├── fitness.py 多种适应度函数的实现
├── genetic.py 遗传算法主程序
├── model.py 人工神经网络的训练和推理
└── sound.py 将整数序列转为实际音频播放出来

# 关键代码段（对应作业要求）
1. 随机产生初始种群 `genetic.py` 第268-273行

2. 建立遗传算法，实现遗传操作 `genetic.py`
- 交叉 第89-105行
- 变异 第53-86行
- 移调 第108-131行
- 倒影 第149-166行
- 逆行 第135-146行

3a. ANN适应度函数：`model.py`

3b. 其他适应度函数：`fitness.py`
- 方差 第18-20行
- 对称性 第22-34行
- L2距离 第36-46行
- K近邻 第48-58行
- 音程 第60-104行

4. 遗传迭代 `genetic.py` 第275-279行

# 如何运行
1. 安装相关的软件包：PyTorch, mido, pymidifile, numpy
2. 调整参数：`GA.json`
3. 训练模型：`python ./model.py`
4. 运行遗传算法：`python ./genetic.py`